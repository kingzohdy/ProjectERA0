/********************************************************************
**       This head file is generated by program,                   **
**            Please do not change it directly.                    **
********************************************************************/

#ifndef TPDUDEF_H
#define TPDUDEF_H

/*   
 User Define Macros.   */

#define TPDU_MAX_ENCRYPTSKEY_LEN                 	128
#define TPDU_MAX_ENCRYPTIDENT_LEN                	64
#define TPDU_MAX_ENCRYPTSYN_LEN                  	128
#define TPDU_MAX_ENCRYPTSYNACK_LEN               	128
#define TPDU_MAGIC                               	85
#define TPDU_VERSION                             	10

/* TPDU_CMD*/
enum tagTPDU_CMD 
{
    TPDU_CMD_NONE = 0, 
    TPDU_CMD_CHGSKEY = 1, 
    TPDU_CMD_QUEINFO = 2, 
    TPDU_CMD_AUTH = 3, 
    TPDU_CMD_IDENT = 4, 
    TPDU_CMD_PLAIN = 5, 
    TPDU_CMD_RELAY = 6, 
    TPDU_CMD_STOP = 7, 
    TPDU_CMD_SYN = 8, 
    TPDU_CMD_SYNACK = 9, 
};

/* TPDU_RELAY_TYPE*/
enum tagTPDU_RELAY_TYPE 
{
    TPDU_JUMP_SERVER_RELAY = 1, 
    TPDU_NETWORK_FAILURE_RELAY = 2, 
    TPDU_CLIENT_CRASH_RELAY = 3, 
};

/* TPDU_STOP_REASON*/
enum tagTPDU_STOP_REASON 
{
    TPDU_STOP_TCONND_SHUTDOWN = 6, 
    TPDU_STOP_SVR_CLOSE = 11, 
    TPDU_STOP_SVR_KICKOFF = 12, 
    TPDU_STOP_CLI_RELOGIN = 13, 
    TPDU_STOP_CLI_LOGOUT = 14, 
};


#ifdef __cplusplus
extern "C" {
#endif

/*   Define c types.   */


#ifndef TDR_CUSTOM_C_TYPES
#define TDR_CUSTOM_C_TYPES
#if defined(WIN32) &&  _MSC_VER < 1300
typedef __int64 tdr_longlong;
typedef unsigned __int64 tdr_ulonglong;
#else
typedef long long tdr_longlong;
typedef unsigned long long tdr_ulonglong;
#endif  /*defined(WIN32) &&  _MSC_VER < 1300*/
typedef unsigned short tdr_wchar_t;  /**<Wchar基本数据类型*/
typedef unsigned int tdr_date_t;	/**<data基本数据类型*/
typedef unsigned int tdr_time_t;	/**<time基本数据类型*/
typedef tdr_ulonglong tdr_datetime_t;  /**<datetime基本数据类型*/
typedef unsigned long int tdr_ip_t;  /**<IPv4数据类型*/
#endif /*TDR_CUSTOM_C_TYPES*/



/*   Structs/unions prototype.   */

struct tagTPDUBase;
typedef struct tagTPDUBase                         	TPDUBASE;
typedef struct tagTPDUBase                         	*LPTPDUBASE;

struct tagTPDUExtChgSkey;
typedef struct tagTPDUExtChgSkey                   	TPDUEXTCHGSKEY;
typedef struct tagTPDUExtChgSkey                   	*LPTPDUEXTCHGSKEY;

struct tagTPDUExtQueInfo;
typedef struct tagTPDUExtQueInfo                   	TPDUEXTQUEINFO;
typedef struct tagTPDUExtQueInfo                   	*LPTPDUEXTQUEINFO;

union tagTPDUExtAuthData;
typedef union  tagTPDUExtAuthData                  	TPDUEXTAUTHDATA;
typedef union  tagTPDUExtAuthData                  	*LPTPDUEXTAUTHDATA;

struct tagTPDUExtAuthInfo;
typedef struct tagTPDUExtAuthInfo                  	TPDUEXTAUTHINFO;
typedef struct tagTPDUExtAuthInfo                  	*LPTPDUEXTAUTHINFO;

struct tagTPDUIdentInfo;
typedef struct tagTPDUIdentInfo                    	TPDUIDENTINFO;
typedef struct tagTPDUIdentInfo                    	*LPTPDUIDENTINFO;

struct tagTPDUExtIdent;
typedef struct tagTPDUExtIdent                     	TPDUEXTIDENT;
typedef struct tagTPDUExtIdent                     	*LPTPDUEXTIDENT;

struct tagTPDUExtRelay;
typedef struct tagTPDUExtRelay                     	TPDUEXTRELAY;
typedef struct tagTPDUExtRelay                     	*LPTPDUEXTRELAY;

struct tagTPDUExtStop;
typedef struct tagTPDUExtStop                      	TPDUEXTSTOP;
typedef struct tagTPDUExtStop                      	*LPTPDUEXTSTOP;

struct tagTPDUSynInfo;
typedef struct tagTPDUSynInfo                      	TPDUSYNINFO;
typedef struct tagTPDUSynInfo                      	*LPTPDUSYNINFO;

struct tagTPDUExtSyn;
typedef struct tagTPDUExtSyn                       	TPDUEXTSYN;
typedef struct tagTPDUExtSyn                       	*LPTPDUEXTSYN;

struct tagTPDUExtSynAck;
typedef struct tagTPDUExtSynAck                    	TPDUEXTSYNACK;
typedef struct tagTPDUExtSynAck                    	*LPTPDUEXTSYNACK;

union tagTPDUExt;
typedef union  tagTPDUExt                          	TPDUEXT;
typedef union  tagTPDUExt                          	*LPTPDUEXT;

struct tagTPDUHead;
typedef struct tagTPDUHead                         	TPDUHEAD;
typedef struct tagTPDUHead                         	*LPTPDUHEAD;

struct tagTPDUFrame;
typedef struct tagTPDUFrame                        	TPDUFRAME;
typedef struct tagTPDUFrame                        	*LPTPDUFRAME;



/*   Define structs/unions.   */

#pragma pack(1)

struct tagTPDUBase
{
    unsigned char bMagic;                         
    unsigned char bVersion;                       
    unsigned char bCmd;                           
    unsigned char bHeadLen;                       
    int iBodyLen;                       
};

struct tagTPDUExtChgSkey
{
    short nType;                          
    short nLen;                           
    char szEncryptSkey[TPDU_MAX_ENCRYPTSKEY_LEN];
};

struct tagTPDUExtQueInfo
{
    int iPos;                           
    int iMax;                           
};

union tagTPDUExtAuthData
{
    TQQAUTHINFO stAuthQQV1;                      	/* TSEC_AUTH_QQV1,   */
    TQQAUTHINFO stAuthQQV2;                      	/* TSEC_AUTH_QQV2,   */
    TQQUNIFIEDAUTHINFO stAuthQQUnified;                 	/* TSEC_AUTH_QQUNIFIED,   */
};

struct tagTPDUExtAuthInfo
{
    int iAuthType;                       	/*    Bind Macrosgroup:TSEC_AUTH,*/
    TPDUEXTAUTHDATA stAuthData;                     
};

struct tagTPDUIdentInfo
{
    int iPos;                           
    char szIdent[TQQ_IDENT_LEN];         
};

struct tagTPDUExtIdent
{
    int iLen;                           
    char szEncryptIdent[TPDU_MAX_ENCRYPTIDENT_LEN];
};

struct tagTPDUExtRelay
{
    int iRelayType;                     
    int iOldPos;                        
    int iLen;                           
    char szEncryptIdent[TPDU_MAX_ENCRYPTIDENT_LEN];
};

struct tagTPDUExtStop
{
    int iStopReason;                    
};

struct tagTPDUSynInfo
{
    char szRandstr[TQQ_IDENT_LEN];       
};

struct tagTPDUExtSyn
{
    unsigned char bLen;                           
    char szEncryptSynInfo[TPDU_MAX_ENCRYPTSYN_LEN];
};

struct tagTPDUExtSynAck
{
    unsigned char bLen;                           
    unsigned char szEncryptSynInfo[TPDU_MAX_ENCRYPTSYNACK_LEN];
};

union tagTPDUExt
{
    TPDUEXTCHGSKEY stChgSkey;                       	/* TPDU_CMD_CHGSKEY,   */
    TPDUEXTQUEINFO stQueInfo;                       	/* TPDU_CMD_QUEINFO,   */
    TPDUEXTAUTHINFO stAuthInfo;                      	/* TPDU_CMD_AUTH,   */
    TPDUEXTIDENT stIdent;                         	/* TPDU_CMD_IDENT,   */
    TPDUEXTRELAY stRelay;                         	/* TPDU_CMD_RELAY,   */
    TPDUEXTSTOP stStop;                          	/* TPDU_CMD_STOP,   */
    TPDUEXTSYN stSyn;                           	/* TPDU_CMD_SYN,   */
    TPDUEXTSYNACK stSynAck;                        	/* TPDU_CMD_SYNACK,   */
};

struct tagTPDUHead
{
    TPDUBASE stBase;                         
    TPDUEXT stExt;                          
};

struct tagTPDUFrame
{
    TPDUHEAD stHead;                         
    char szBody[1];                      
};


#pragma pack()

#ifdef __cplusplus
}
#endif


#endif /* TPDUDEF_H */
