<?xml version="1.0" encoding="GBK" standalone="yes" ?>

<metalib name="op_log_meta" tagsetversion="1" version="2535">

	<macro name="OP_LOG_ROLELOGIN"						value="0" /> 
	<macro name="OP_LOG_ROLENEW"						value="1" />
	<macro name="OP_LOG_ROLELOGOUT"						value="2" />
	<macro name="OP_LOG_ROLESHOP"						value="3" version="2" />
	<macro name="OP_LOG_ROLEMAIL"						value="4" version="3" />
	<macro name="OP_LOG_ROLE_EXCHG"						value="5" version="4" />
	<macro name="OP_LOG_ROLE_STALL"						value="6" version="4" />
	<macro name="OP_LOG_ROLE_STALL_BUY"				value="7"  />
	<macro name="OP_LOG_ROLE_ARM_MACHINING"			value="8"  />
	<macro name="OP_LOG_ROLE_MONSTER_DIE"				value="9"  />
	<macro name="OP_LOG_ROLE_PICK_ITEM"				value="10"  />
	<macro name="OP_LOG_ROLE_TASK"						value="11"  />
	<macro name="OP_LOG_ROLE_CHAT"						value="12"  />
	<macro name="OP_LOG_ROLE_CLAN"						value="13"  />
	<macro name="OP_LOG_ROLE_PET"						value="14"  />
	<macro name="OP_LOG_ROLE_DEL"						value="15"  />
	<macro name="OP_LOG_ROLE_DIE"						value="16"  />
	<macro name="OP_LOG_PET_ATTR_CHG"					value="17"  />
	<macro name="OP_LOG_GM_CMD"							value="18"  />
	<macro name="OP_LOG_GET_MAILGOODS"					value="19"  />
	<macro name="OP_LOG_ROLE_SKILL"						value="20"  />
	<macro name="OP_LOG_ROLE_DIATHESIS"				value="21"  />
	<macro name="OP_LOG_ROLE_MAP_CHG"					value="22"  />
	<macro name="OP_LOG_ROLE_QIYUE"						value="23"  desc="玩家契约相关操作" />
	<macro name="OP_LOG_FAIRY"							value="24"  desc="精灵相关" />
	<macro name="OP_LOG_DESIGNATION"					value="25"  desc="称号相关" />
	<macro name="OP_LOG_RESPACT"						value="26"  desc="声望相关" />
	<macro name="OP_LOG_ROLE_RIDE"						value="27"  desc="骑乘" />
	<macro name="OP_LOG_BOOTY_DROP"						value="28"  desc="物品掉落" />
	<macro name="OP_LOG_USE_BANGDINGTIANYUAN"			value="29"  desc="邦定天元消耗,表在服" />
	<macro name="OP_TRADE_INFO"							value="30"  desc="交易的相关信息" />
	<macro name="OP_LOG_ROLE_LVUP_SNAPSHOT"			value="31"  desc="角色升级快照信息" />
	
	<macro name="OP_LOG_ROLE_SNAPSHOT"					value="33"  desc="角色快照" />
	<macro name="OP_LOG_USE_XP_SKILL"					value="34"  desc="角色使用xp技能" />
	<macro name="OP_LOG_GIFT"							value="35"  desc="角色领取奖励" />
	<macro name="OP_LOG_ROLE_ENTER_PWORLD"				value="36"  desc="角色进入副本" />
	<macro name="OP_LOG_MAP_ROLE_NUM"					value="37"  desc="地图人数纪录" />
	<macro name="OP_LOG_PWORLD_TIME"					value="38"  desc="副本持续时间" />
	<macro name="OP_LOG_SECONDARY_SKILL"					value="39"  desc="生活技能" />
	<macro name="OP_LOG_SECONDARY_SKILL_RECIPE"					value="40"  desc="生活技能配方" />
	<macro name="OP_LOG_ACC_LOGIN"					value="41"  desc="账号登陆" />
	<macro name="OP_LOG_ACC_LOGOUT"					value="42"  desc="账号退出" />
	<macro name="OP_LOG_SHOPPING_EXCHANGE"					value="43"  desc="兑换点券记录" />
	
	<macro name="OP_LOG_MUD_ACC_LOGIN"					value="44"  desc="帐号登录mud" />
	<macro name="OP_LOG_MUD_ACC_LOGOUT"					value="45"  desc="帐号登出mud" />
	<macro name="OP_LOG_MUD_ROLE_LOGIN"					value="46"  desc="角色登录mud" />
	<macro name="OP_LOG_MUD_ROLE_LOGOUT"					value="47"  desc="角色登出mud" />
	<macro name="OP_LOG_MUD_TAKE_EXP"					value="48"  desc="偷离线补偿经验" />
	<macro name="OP_LOG_ROLE_ITEM_DEC"					value="49"  desc="角色物品减少" />
	<macro name="OP_LOG_ROLE_ITEM_DROP"					value="50"  desc="角色物品丢弃" />
	<macro name="OP_LOG_ROLE_DIE_DROP"					value="51"  desc="角色死亡掉落" />
	<macro name="OP_LOG_TASK_AWARD_ITEM"					value="52"  desc="任务奖励道具记录" />
	<macro name="OP_LOG_ROLE_PWORLD_AWARD"					value="53"  desc="角色副本评价奖励" />
	<macro name="OP_LOG_ROLE_PWORLD_CARD"					value="54"  desc="角色副本翻牌奖励" />
	<macro name="OP_LOG_ROLE_BATTLE_AWARD"					value="55"  desc="角色战场奖励奖励" />
	<macro name="OP_LOG_ROLE_PET_CATCH"					value="56"  desc="角色宠物捕捉" />
	<macro name="OP_LOG_ROLE_RECIPE_MAKE"					value="57"  desc="角色生活技能配方制造" />
	<macro name="OP_LOG_MAP_TRANS"					value="58"  desc="地图传送" />
	<macro name="OP_LOG_FENGYIN"					value="59"  desc="装备封印" />
	<macro name="OP_LOG_LUCKY"					value="60"  desc="天降宏福活动" />
	<macro name="OP_LOG_WORLD_CITY_SIEGE"					value="61"  desc="攻城战" />
	<macro name="OP_LOG_MEDIA_GIFT"							value="62"  desc="角色领取媒体礼包奖励" />
	<macro name="OP_LOG_LTR_GIFT"							value="63"  desc="角色领取媒体次数礼包奖励" />	
	<macro name="OP_LOG_CLAN_ACTIVE"					value="64"  desc="脚本触发的公会活动" />
	<macro name="OP_LOG_DAILY_GOAL_AWARD"					value="65"  desc="今日目标阶段奖励" />
	<macro name="OP_LOG_BINDGOLD_CONSUME"					value="66"  desc="金币消耗" />
	<macro name="OP_LOG_BINDGOLD_CREATE"					value="67"  desc="金币产出" />
	<macro name="OP_LOG_MONEY_CONSUME"					value="68"  desc="银子消耗" />
	<macro name="OP_LOG_MONEY_CREATE"					value="69"  desc="银子产出" />
	<macro name="OP_LOG_IMPITEM_CONSUME"					value="70"  desc="重要道具消耗" />
	<macro name="OP_LOG_IMPITEM_CREATE"					value="71"  desc="重要道具产出" />
	<macro name="OP_LOG_CLANPROP_CONSUME"					value="72"  desc="公会属性消耗" />
	<macro name="OP_LOG_CLANPROP_CREATE"					value="73"  desc="公会属性产出" />
	<macro name="OP_LOG_CONTRI_CONSUME"					value="74"  desc="贡献度消耗" />
	<macro name="OP_LOG_CONTRI_CREATE"					      value="75"  desc="贡献度产出" />
	<macro name="OP_LOG_STRONG"					      value="76"  desc="占领据点" />
	<macro name="OP_LOG_CHAT_MON_HEART_BEAT_REQ"					value="77"  desc="chat_mon_service 发来的心跳包" />
	<macro name="OP_LOG_GENIUS"					      value="78"  desc="天赋" />
	<macro name="OP_LOG_SPAR"					      value="79"  desc="晶石" />
	<macro name="OP_LOG_CLANBOON"					      value="80"  desc="公会福利" />
	<macro name="OP_LOG_SCRIPT_ADD_EXP"					      value="81"  desc="脚本加exp" />
	<macro name="OP_LOG_BOON_COND"					      value="82"  desc="公会福利达成情况" />
	<macro name="OP_LOG_STORE"					      value="83"  desc="商铺购买" />
	<macro name="OP_LOG_BATTLE_MONEY_USE"					      value="84"  desc="战场货币消耗" />
	<macro name="OP_LOG_STRONG_FINI"					      value="85"  desc="据点战结束玩家信息" />
	<macro name="OP_LOG_CITY_FINI"					      value="86"  desc="时间城战结束玩家信息" />
	<macro name="OP_LOG_OPEN_BOX"					      value="87"  desc="开宝箱" />
	<macro name="OP_LOG_SPANSTRONG"					      value="88"  desc="跨服据点战结束玩家信息" />
	<macro name="OP_LOG_HOME"					          value="89"  desc="家园" />
			
	<union name="OpLogDetail" version="1" uniqueentryname="false">
		<entry name="RoleLogin" type="OpRoleLogin" id="OP_LOG_ROLELOGIN"/>
		<entry name="RoleNew" type="OpRoleNew" id="OP_LOG_ROLENEW"/>
		<entry name="RoleLogout" type="OpRoleLogout" id="OP_LOG_ROLELOGOUT"/>
		<entry name="RoleShop" type="OpRoleShop" id="OP_LOG_ROLESHOP" version="2" />
		<entry name="RoleMail" type="OpRoleMail" id="OP_LOG_ROLEMAIL" version="3" />
		<entry name="RoleExchg" type="OpRoleExchg" id="OP_LOG_ROLE_EXCHG" version="52" />
		<entry name="RoleStall" type="OpRoleStall" id="OP_LOG_ROLE_STALL" version="52" />
		<entry name="RoleStallBuy" type="OpRoleStallBuy" id="OP_LOG_ROLE_STALL_BUY" version="52" />
		<entry name="RoleArmMachining" type="OpRoleArmMachining" id="OP_LOG_ROLE_ARM_MACHINING" version="91" />
		<entry name="MonsterDie" type="OpMosterDie" id="OP_LOG_ROLE_MONSTER_DIE" version="92" />
		<entry name="RolePickItem" type="OpRolePickItem" id="OP_LOG_ROLE_PICK_ITEM" version="92" />
		<entry name="RoleTask" type="OpRoleTask" id="OP_LOG_ROLE_TASK" version="92" />
		<entry name="RoleChat" type="OpRoleChat" id="OP_LOG_ROLE_CHAT" version="92" />
		<entry name="RoleClan" type="OpRoleClan" id="OP_LOG_ROLE_CLAN" version="92" />
		<entry name="RolePet" type="OpRolePet" id="OP_LOG_ROLE_PET" version="92" />
		<entry name="RoleDel" type="OpRoleDel" id="OP_LOG_ROLE_DEL" version="93" />
		<entry name="RoleDie" type="OpPlayerDie" id="OP_LOG_ROLE_DIE" version="94" />
		<entry name="PetAttrChg" type="OpPetAttrChg" id="OP_LOG_PET_ATTR_CHG" version="94" />
		<entry name="GMCmd" type="OpGMCmd" id="OP_LOG_GM_CMD" version="100" />
		<entry name="GetMailGoods" type="OpRoleGetMailGoods" id="OP_LOG_GET_MAILGOODS" version="101" />
		<entry name="RoleSkill" type="OpRoleSkillChg" id="OP_LOG_ROLE_SKILL" version="109" />
		<entry name="RoleDiathesis" type="OpRoleDiathesisChg" id="OP_LOG_ROLE_DIATHESIS" version="109" />
		<entry name="RoleMap" type="OpRoleMapChg" id="OP_LOG_ROLE_MAP_CHG" version="109" />
		<entry name="RoleQiYueChg" type="OpRoleQiYueChg" id="OP_LOG_ROLE_QIYUE" version="142" />
		<entry name="RoleFairyChg" type="OpFairy" id="OP_LOG_FAIRY" version="143" />
		<entry name="RoleDesignationChg" type="OpRoleDesignation" id="OP_LOG_DESIGNATION" version="143" />
		<entry name="RoleRespactChg" type="OpRoleRespact" id="OP_LOG_RESPACT" version="143" />
		<entry name="RoleRideChg" type="OpRoleRide" id="OP_LOG_ROLE_RIDE" version="144" />
		<entry name="RoleBootyDrop" type="OpBootyDrop" id="OP_LOG_BOOTY_DROP" version="150" />
		<entry name="OpBuyShoppingChg" type="OpBuyShoppingChg" id="OP_LOG_USE_BANGDINGTIANYUAN" version="158" />
		<entry name="OpRoleSnapshot" type="OpRoleSnapshot" id="OP_LOG_ROLE_SNAPSHOT" version="158" />
		<entry name="OpTradeInfo" type="OpTradeInfo" id="OP_TRADE_INFO" version="179" />
		<entry name="RoleLvUpSnapshot" type="OpRoleLvUpSnapshot" id="OP_LOG_ROLE_LVUP_SNAPSHOT" version="293" />

		<entry name="OpUseXpSKill" type="OpUseXpSKill" id="OP_LOG_USE_XP_SKILL" version="303" />
		<entry name="OpGift" type="OpGift" id="OP_LOG_GIFT" version="303" />
		<entry name="RoleEnterPworld" type="OpRoleEnterPworld" id="OP_LOG_ROLE_ENTER_PWORLD" version="303" />
		<entry name="OpMapRoleNum" type="OpMapRoleNum" id="OP_LOG_MAP_ROLE_NUM" version="365" />
		<entry name="OpPworldTime" type="OpPworldTime" id="OP_LOG_PWORLD_TIME" version="431" />
		<entry name="RoleSecondarySkill" type="OpRoleSecondarySkill" id="OP_LOG_SECONDARY_SKILL" version="489" />
		<entry name="RoleSecSkillRecipe" type="OpRoleSecSkillRecipe" id="OP_LOG_SECONDARY_SKILL_RECIPE" version="489" />

		<entry name="OpAccLogin" type="OpAccLogin" id="OP_LOG_ACC_LOGIN" version="560" />
		<entry name="OpAccLogout" type="OpAccLogout" id="OP_LOG_ACC_LOGOUT" version="560" />

		<entry name="OpShopingExchange" type="OpShopingExchange" id="OP_LOG_SHOPPING_EXCHANGE" version="602" />
		
		<entry name="OpMudAccLogin" type="OpMudAccLogin" id="OP_LOG_MUD_ACC_LOGIN" version="751" />
		<entry name="OpMudAccLogout" type="OpMudAccLogout" id="OP_LOG_MUD_ACC_LOGOUT" version="751" />
		<entry name="OpMudRoleLogin" type="OpMudRoleLogin" id="OP_LOG_MUD_ROLE_LOGIN" version="751" />
		<entry name="OpMudRoleLogout" type="OpMudRoleLogout" id="OP_LOG_MUD_ROLE_LOGOUT" version="751" />
		<entry name="OpMudTakeExp" type="OpMudTakeExp" id="OP_LOG_MUD_TAKE_EXP" version="751" />
		<entry name="OpRoleItemDec" type="OpRoleItemDec" id="OP_LOG_ROLE_ITEM_DEC" version="793" />
		<entry name="OpRoleItemDrop" type="OpRoleItemDrop" id="OP_LOG_ROLE_ITEM_DROP" version="808" />
		<entry name="OpRoleDieDrop" type="OpRoleDieDrop" id="OP_LOG_ROLE_DIE_DROP" version="906" />
		<entry name="OpTaskItemAward" type="OpTaskItemAward" id="OP_LOG_TASK_AWARD_ITEM" version="906" />
		<entry name="OpRolePworldAward" type="OpRolePworldAward" id="OP_LOG_ROLE_PWORLD_AWARD" version="924" />
		<entry name="OpRolePworldCard" type="OpRolePworldCard" id="OP_LOG_ROLE_PWORLD_CARD" version="924" />
		<entry name="OpRoleBattleAward" type="OpRoleBattleAward" id="OP_LOG_ROLE_BATTLE_AWARD" version="935" />
		<entry name="OpRolePetCatch" type="OpRolePetCatch" id="OP_LOG_ROLE_PET_CATCH" version="935" />
		<entry name="OpRoleRecipeMake" type="OpRoleRecipeMake" id="OP_LOG_ROLE_RECIPE_MAKE" version="935" />
		<entry name="OpMapTrans" type="OpMapTrans" id="OP_LOG_MAP_TRANS" version="1010" />
		<entry name="OpRoleArmFengyin" type="OpRoleArmFengyin" id="OP_LOG_FENGYIN" version="1014" />
		<entry name="OpLucky" type="OpLucky" id="OP_LOG_LUCKY" version="1088" />
		<entry name="OpWorldCitySiege" type="OpWorldCitySiege" id="OP_LOG_WORLD_CITY_SIEGE" version="1100" />
		<entry name="OpMediaGift" type="OpMediaGift" id="OP_LOG_MEDIA_GIFT" version="1166"/>
		<entry name="OpLtrGift" type="OpLtrGift" id="OP_LOG_LTR_GIFT" version="1166"/>
		<entry name="OpClanActive" type="OpClanActive" id="OP_LOG_CLAN_ACTIVE" version="1200" />
		<entry name="OpDailyGoalAward" type="OpDailyGoalAward" id="OP_LOG_DAILY_GOAL_AWARD" version="1200" />
		<entry name="OpBindGoldConsume" type="OpBindGoldConsume" id="OP_LOG_BINDGOLD_CONSUME" version="1200" />
		<entry name="OpBindGoldCreate" type="OpBindGoldCreate" id="OP_LOG_BINDGOLD_CREATE" version="1200" />
		<entry name="OpMoneyConsume" type="OpMoneyConsume" id="OP_LOG_MONEY_CONSUME" version="1200" />
		<entry name="OpMoneyCreate" type="OpMoneyCreate" id="OP_LOG_MONEY_CREATE" version="1200" />
		<entry name="OpImpItemConsume" type="OpImpItemConsume" id="OP_LOG_IMPITEM_CONSUME" version="1200" />
		<entry name="OpImpItemCreate" type="OpImpItemCreate" id="OP_LOG_IMPITEM_CREATE" version="1200" />
		<entry name="OpClanPropertyConsume" type="OpClanPropertyConsume" id="OP_LOG_CLANPROP_CONSUME" version="1200" />
		<entry name="OpClanPropertyCreate" type="OpClanPropertyCreate" id="OP_LOG_CLANPROP_CREATE" version="1200" />
		<entry name="OpContriConsume" type="OpContriConsume" id="OP_LOG_CONTRI_CONSUME" version="1200" />
		<entry name="OpContriCreate" type="OpContriCreate" id="OP_LOG_CONTRI_CREATE" version="1200" />
		<entry name="OpStrongInfo" type="OpStrongInfo" id="OP_LOG_STRONG" version="1590" />
		<entry name="OpChatMonHeartBeatReq" type="OpChatMonHeartBeatReq" id="OP_LOG_CHAT_MON_HEART_BEAT_REQ" version="1746" />
		<entry name="OpGenuis" type="OpGenuis" id="OP_LOG_GENIUS" version="1792" />
		<entry name="OpSpar" type="OpSpar" id="OP_LOG_SPAR" version="1866" />
		<entry name="OpBoon" type="OpBoon" id="OP_LOG_CLANBOON" version="2004" />
		<entry name="OpScriptAddExp" type="OpScriptAddExp" id="OP_LOG_SCRIPT_ADD_EXP" version="2032" />
		<entry name="OpBoonCond" type="OpBoonCond" id="OP_LOG_BOON_COND" version="2125" />
		<entry name="OpStore" type="OpStore" id="OP_LOG_STORE" version="2139" />

		<entry name="OpBattleMoneyUse" type="OpBattleMoneyUse" id="OP_LOG_BATTLE_MONEY_USE" version="2139" />
		<entry name="OpStrongFini" type="OpStrongFini" id="OP_LOG_STRONG_FINI" version="2288" />
		<entry name="OpCityFini" type="OpCityFini" id="OP_LOG_CITY_FINI" version="2296" />
		<entry name="OpOpenBox" type="OpOpenBox" id="OP_LOG_OPEN_BOX" version="2339" />
		<entry name="OpSpanStrong" type="OpSpanStrong" id="OP_LOG_SPANSTRONG" version="2339" />
		<entry name="OpHome" type="OpHome" id="OP_LOG_HOME" version="2535" />
	</union>
	
	<macrosgroup name="OP_LOG_FROM_TYPE" desc="OPLOG 的来源类型" version="794">
	  <macro name="OP_LOG_FROM_LOCAL"		value="0" desc="本地服"/>
	  <macro name="OP_LOG_PVE_AOTUTEAM" value="1" desc="跨服自动组队的svr"/>
	  <macro name="OP_LOG_PVE_BATTLE" value="2" desc="跨服战场的svr"/>
	  <macro name="OP_LOG_PVP" value="3" desc="跨服pvp的svr"/>
	</macrosgroup>
	
	<struct name="op_log_meta" version="1" >
		<entry name="OpLogType" type="int" />
		<entry name="OpLogFrom" type="int" version="794" desc="OPLOG 的来源类型" bindmacrogroup="OP_LOG_FROM_TYPE"/>
		<entry name="OpLog" type="OpLogDetail" select="OpLogType" />
	</struct>

	<macrosgroup name="OP_LOG_MON_CMD" desc="OPLOGMON 的消息类型" version="1746">
	  <macro name="OP_LOG_MON_HEART_BEAT_REQ"		value="0" desc="心跳包请求"/>
	  <macro name="OP_LOG_MON_HEART_BEAT_RES"		value="1" desc="心跳包返回"/>
	  <macro name="OP_LOG_MON_DATA" value="2" desc="数据包"/>
	</macrosgroup>

	<struct name="MonHeartBeat" version="1746" >
		<entry name="Seq" type="int" desc="序列号"/>
		<entry name="Version" type="int" desc="metal 版本"/>
		<entry name="ID" type="int" desc="chat_mon_service 分配的ID"/>
		<entry name="AppID" type="string" size="64" desc="tlog_db 的AppID"/>
	</struct>

	<union name="OpLogMonData" version="1746" >
		<entry name="HeartBeatReq" type="MonHeartBeat" id="OP_LOG_MON_HEART_BEAT_REQ"/>
		<entry name="HeartBeatRes" type="MonHeartBeat" id="OP_LOG_MON_HEART_BEAT_RES"/>
		<entry name="OpLogData" type="op_log_meta" id="OP_LOG_MON_DATA"/>
	</union>

	<struct name="OpLogMonHead" version="1746" sizeinfo="HeadLen" >
		<entry name="Magic" type="smalluint" defaultvalue="PROTOCOL_MAGIC" />
		<entry name="Cmd" type="smalluint" bindmacrosgroup="OP_LOG_MON_CMD" desc="chat_mon_service 往来消息类型"/>
		<entry name="HeadLen" type="smalluint" />
		<entry name="BodyLen" type="smalluint" />
		<entry name="Ver" type="smalluint" />
		<entry name="Res" type="smalluint" />
	</struct>

	<struct name="OpLogMonPkg" version="1746" >		
		<entry name="Head" type="OpLogMonHead" />
		<entry name="Body" type="OpLogMonData" select="Head.Cmd" sizeinfo="Head.BodyLen" />
	</struct>

</metalib>	
