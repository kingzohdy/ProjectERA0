<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="icon" href="../favicon.ico" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CrashRpt: Running Automated Tests</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>

<table border="0" bgcolor="#FFFFFF" cellspacing="5" width="100%">
 <tr>
  <td width="24px" rowspan="2"><img src="../logo.png" alt="Logo" /></td>
  <td><font family="Arial" size="+2">crashrpt</font></td>
  <td rowspan="2" align="right"><a href="http://sourceforge.net/donate/index.php?group_id=279722"><img src="../donate_small.png" alt="Donate" /></a></td>
 </tr>
 <tr>
  <td colspan="2"><i>A crash reporting system for Windows applications</i></td>
 </tr>


</table>


</body>
<!-- Generated by Doxygen 1.5.9 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Contents</span></a></li>
      <li><a href="modules.html"><span>API&nbsp;Reference</span></a></li>
      <li><a href="files.html"><span>File&nbsp;Reference</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="automated_tests">Running Automated Tests </a></h1>CrashRpt distribution contains project <b>Tests</b> that implements automated tests for CrashRpt functionality.<p>
To run the tests, go to the <b>bin</b> directory and click the <b>Tests.exe</b> executable file. This should launch a console program that will run a set of test cases.<p>
Tests optionally can be launched from a temporary folder having Chinese UNICODE characters in its name. This can be used to test UNICODE compatibility. To skip this, just press Enter when prompted.<p>
Test cases are organized into several test suites. Below is the list of test suites:<p>
<ul>
<li>CrashRptAPITests : CrashRpt API function tests</li><li>CrashRptProbeAPITests : CrashRptProbe API function tests</li><li>CrproberTests : crprober.exe tests</li><li>DeliveryTests : Error report delivery tests</li><li>LangFileTests : CrashRpt language file tests</li></ul>
<p>
You can run tests from all test suites at once, or to run tests from selected test suites. To run tests from all test suites, press Enter when prompted. To run tests from selected test suites, type their names when prompted (separate names by space).<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Automated tests may require an additional software to be installed on your machine (local host). For example, to pass HTTP delivery tests, you need to have a Web-server installed on you local host, and having crashrpt.php script inside of your htdocs directory. To pass SMTP delivery tests, you need to have an SMTP server configured on your local host.</dd></dl>
Below is an example of the output of the <b>Tests.exe</b> console program:<p>
<div class="fragment"><pre class="fragment">Do you want to run tests from a folder containing Chinese characters to test UNICODE compatibility (y/n)?
Your choice &gt;

=== Automated tests <span class="keywordflow">for</span> CrashRpt v.1.2.10 ===

The list of avaliable test suites:
 - CrashRptAPITests : CrashRpt API function tests
 - CrashRptProbeAPITests : CrashRptProbe API function tests
 - CrproberTests : crprober.exe tests
 - DeliveryTests : Error report delivery tests
 - LangFileTests : CrashRpt language file tests

Enter which test suites to run (separate names by space) or enter empty line to run all test suites.
Your choice &gt;

Running tests...
 - TopLevelTestSuite::SetUp... OK.
 - CrashRptAPITests::SetUp... OK.
 - CrashRptAPITests::Test_InstallW... OK.
 - CrashRptAPITests::Test_InstallA... OK.
 - CrashRptAPITests::Test_crUninstall... OK.
 - CrashRptAPITests::Test_AddFile... OK.
 - CrashRptAPITests::Test_crInstall_null... OK.
 - CrashRptAPITests::Test_crInstall_wrong_cb... OK.
 - CrashRptAPITests::Test_crInstall_missing_app_ver... OK.
 - CrashRptAPITests::Test_crInstallW_zero_info... OK.
 - CrashRptAPITests::Test_crInstallA_zero_info... OK.
 - CrashRptAPITests::Test_crInstallA_twice... OK.
 - CrashRptAPITests::Test_crInstallA_short_path_name... OK.
 - CrashRptAPITests::Test_crInstallW_short_path_name... OK.
 - CrashRptAPITests::Test_crInstallToCurrentThread... OK.
 - CrashRptAPITests::Test_crInstallToCurrentThread_concurrent... OK.
 - CrashRptAPITests::Test_crAddFileA... OK.
 - CrashRptAPITests::Test_crAddFileW... OK.
 - CrashRptAPITests::Test_crAddScreenshot... OK.
 - CrashRptAPITests::Test_crAddScreenshot2... OK.
 - CrashRptAPITests::Test_crAddPropertyA... OK.
 - CrashRptAPITests::Test_crAddPropertyW... OK.
 - CrashRptAPITests::Test_crAddRegKeyA... OK.
 - CrashRptAPITests::Test_crAddRegKeyW... OK.
 - CrashRptAPITests::Test_crGenerateErrorReport... OK.
 - CrashRptAPITests::Test_crEmulateCrash... OK.
 - CrashRptAPITests::Test_crGetLastErrorMsgA... OK.
 - CrashRptAPITests::Test_crGetLastErrorMsgW... OK.
 - CrashRptAPITests::Test_CrAutoInstallHelper... OK.
 - CrashRptAPITests::Test_CrThreadAutoInstallHelper... OK.
 - CrashRptAPITests::Test_crInstall_in_different_folder... OK.
 - CrashRptAPITests::Test_undecorated_func_names... OK.
 - CrashRptAPITests::Test_crashrpt_dll_file_version... OK.
 - CrashRptAPITests::TearDown... OK.
 - CrashRptProbeAPITests::SetUp... OK.
 - CrashRptProbeAPITests::Test_crpOpenErrorReportA... OK.
 - CrashRptProbeAPITests::Test_crpOpenErrorReportW... OK.
 - CrashRptProbeAPITests::Test_crpCloseErrorReport... OK.
 - CrashRptProbeAPITests::Test_crpExtractFileW... OK.
 - CrashRptProbeAPITests::Test_crpExtractFileA... OK.
 - CrashRptProbeAPITests::Test_crpGetLastErrorW... OK.
 - CrashRptProbeAPITests::Test_crpGetLastErrorA... OK.
 - CrashRptProbeAPITests::Test_crpGetPropertyW... OK.
 - CrashRptProbeAPITests::Test_crpGetPropertyA... OK.
 - CrashRptProbeAPITests::Test_crpGetProperty... OK.
 - CrashRptProbeAPITests::Test_crashrptprobe_dll_file_version... OK.
 - CrashRptProbeAPITests::TearDown... OK.
 - CrproberTests::SetUp... OK.
 - CrproberTests::Test_output... OK.
 - CrproberTests::Test_extract_file... OK.
 - CrproberTests::TearDown... OK.
 - DeliveryTests::SetUp... OK.
 - DeliveryTests::Test_HttpDelivery_legacy_encoding... Failed.
!!! In test: DeliveryTests::Test_HttpDelivery_legacy_encoding Expr: dwExitCode==
0
 - DeliveryTests::Test_HttpDelivery_binary_encoding... Failed.
!!! In test: DeliveryTests::Test_HttpDelivery_binary_encoding Expr: dwExitCode==
0
 - DeliveryTests::Test_SmtpDelivery... Failed.
!!! In test: DeliveryTests::Test_SmtpDelivery Expr: dwExitCode==0
 - DeliveryTests::Test_SmtpDelivery_proxy... Failed.
!!! In test: DeliveryTests::Test_SmtpDelivery_proxy Expr: dwExitCode==0
 - DeliveryTests::Test_SMAPI_Delivery... OK.
 - DeliveryTests::TearDown... OK.
 - LangFileTests::SetUp... OK.
 - LangFileTests::Test_lang_file_versions... OK.
 - LangFileTests::TearDown... OK.
 - TopLevelTestSuite::TearDown... OK.

=== Summary ===

1: In test: DeliveryTests::Test_HttpDelivery_legacy_encoding Expr: dwExitCode==0
2: In test: DeliveryTests::Test_HttpDelivery_binary_encoding Expr: dwExitCode==0
3: In test: DeliveryTests::Test_SmtpDelivery Expr: dwExitCode==0
4: In test: DeliveryTests::Test_SmtpDelivery_proxy Expr: dwExitCode==0

   Test count: 62
 Tests passed: 58
 Tests failed: 4
</pre></div> </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Oct 22 17:37:43 2011 for CrashRpt by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
